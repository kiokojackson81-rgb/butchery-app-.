{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "dev:legacy (pwsh, :3002)",
			"type": "shell",
			"command": "$env:PORT=\"3002\"; $env:WA_DRY_RUN=\"true\"; $env:WA_AI_ENABLED=\"false\"; $env:WA_INTERACTIVE_ENABLED=\"true\"; npm run dev:3002",
			"isBackground": true,
			"group": "build",
			"options": {
				"shell": {
					"executable": "pwsh"
				}
			}
		},
		{
			"label": "playwright: legacy smoke (BASE_URL=:3002)",
			"type": "shell",
			"command": "$env:BASE_URL=\"http://localhost:3002\"; npx playwright test -c playwright.config.ts playwright/wa.smoke.spec.ts --reporter=line --workers=1",
			"group": "build",
			"options": {
				"shell": {
					"executable": "pwsh"
				}
			}
		},
		{
			"label": "playwright: legacy WA only (BASE_URL=:3002)",
			"type": "shell",
			"command": "$env:BASE_URL=\"http://localhost:3002\"; npx playwright test -c playwright.config.ts playwright/wa.smoke.spec.ts --reporter=line --workers=1",
			"isBackground": false,
			"problemMatcher": [],
			"group": "build"
		},
		{
			"label": "playwright: GPT-only (BASE_URL=:3002)",
			"type": "shell",
			"command": "$env:BASE_URL=\"http://localhost:3002\"; npx playwright test -c playwright.config.ts playwright/wa.gpt-only.smoke.spec.ts --reporter=line --workers=1",
			"group": "build"
		},
		{
			"label": "dev (pwsh, :3002, wa flags)",
			"type": "shell",
			"command": "$env:PORT=\"3002\"; $env:WA_DRY_RUN=\"true\"; $env:WA_GPT_ONLY=\"true\"; $env:WA_AI_ENABLED=\"true\"; $env:WA_INTERACTIVE_ENABLED=\"true\"; $env:WA_TABS_ENABLED=\"true\"; npm run dev:3002",
			"isBackground": true,
			"problemMatcher": [
				"$tsc"
			],
			"group": "build"
		},
		{
			"label": "playwright: GPT-only (BASE_URL=:3002)",
			"type": "shell",
			"command": "$env:BASE_URL=\"http://localhost:3002\"; npx playwright test -c playwright.config.ts playwright/wa.gpt-only.smoke.spec.ts --reporter=line --workers=1",
			"problemMatcher": [
				"$tsc"
			],
			"group": "build"
		},
		{
			"label": "dev:3002 (pwsh, wa flags)",
			"type": "shell",
			"command": "$env:PORT=\"3002\"; $env:WA_DRY_RUN=\"true\"; $env:WA_GPT_ONLY=\"true\"; $env:WA_AI_ENABLED=\"true\"; $env:WA_INTERACTIVE_ENABLED=\"true\"; $env:WA_TABS_ENABLED=\"true\"; npm run dev:3002",
			"args": [],
			"isBackground": true,
			"problemMatcher": [
				"$tsc"
			],
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"problemMatcher": [
				"$tsc"
			],
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "build (Next.js)",
			"type": "shell",
			"command": "npm run -s build",
			"isBackground": false,
			"problemMatcher": [
				"$tsc"
			],
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "build (Next.js)",
			"type": "shell",
			"command": "npm run -s build",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "build (Next.js)",
			"type": "shell",
			"command": "npm run -s build",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "build (Next.js)",
			"type": "shell",
			"command": "npm run -s build",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "build (Next.js)",
			"type": "shell",
			"command": "npm run -s build",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "build (Next.js)",
			"type": "shell",
			"command": "npm run -s build",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "build (Next.js)",
			"type": "shell",
			"command": "npm run -s build",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "build (Next.js)",
			"type": "shell",
			"command": "npm run -s build",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "playwright: legacy WA only (BASE_URL=network :3002)",
			"type": "shell",
			"command": "$env:BASE_URL=\"http://10.88.52.116:3002\"; npx playwright test -c playwright.config.ts playwright/wa.smoke.spec.ts --reporter=line --workers=1"
		},
		{
			"label": "playwright: deposit/closing (BASE_URL=:3002)",
			"type": "shell",
			"command": "$env:BASE_URL=\"http://localhost:3002\"; npx playwright test -c playwright.config.ts playwright/wa.deposit-and-closing.spec.ts --reporter=line --workers=1",
			"group": "build"
		},
		{
			"label": "dev:3002 (pwsh, DRY logging)",
			"type": "shell",
			"command": "$env:PORT=\"3002\"; $env:WA_DRY_RUN=\"true\"; $env:WA_LOG_DRY_RUN=\"true\"; $env:WA_GPT_ONLY=\"true\"; $env:WA_AI_ENABLED=\"true\"; $env:WA_INTERACTIVE_ENABLED=\"true\"; $env:WA_TABS_ENABLED=\"true\"; npm run dev:3002",
			"isBackground": true,
			"problemMatcher": [
				"$tsc"
			],
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "build (Next.js)",
			"type": "shell",
			"command": "npm run -s build",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "build (Next.js)",
			"type": "shell",
			"command": "npm run -s build",
			"isBackground": false,
			"group": "build"
		},
		{
			"label": "Typecheck (tsc)",
			"type": "shell",
			"command": "npm run -s typecheck"
		}
		,
		{
			"label": "dev:sandbox (pwsh, :3003)",
			"type": "shell",
			"command": "$env:PORT=\"3003\"; $env:DARAJA_BASE_URL=\"https://sandbox.safaricom.co.ke\"; $env:DARAJA_CONSUMER_KEY=\"<SANDBOX_CK>\"; $env:DARAJA_CONSUMER_SECRET=\"<SANDBOX_CS>\"; $env:DARAJA_PASSKEY_HO=\"<SANDBOX_PASSKEY>\"; $env:PUBLIC_BASE_URL=\"https://barakafresh.com\"; npm run dev:3003",
			"isBackground": true,
			"problemMatcher": [
				"$tsc"
			],
			"group": "build",
			"options": {
				"shell": {
					"executable": "pwsh"
				}
			}
		}
	]
}